{% extends "library/base.html" %}

{% block title %}Catalogue{% endblock %}

{% block content %}
<h1>Catalogue des livres</h1>

<p>
    <a href="?sort=title">Trier par titre</a> |
    <a href="?sort=author">Trier par auteur</a> |
    <a href="?sort=year">Trier par annee</a>
</p>

<form method="get" action="{% url 'search_book' %}">
    <input type="text" name="q" placeholder="Rechercher...">
    <button type="submit">Rechercher</button>
</form>

<ul>
{% for book in books %}
    <li>
        <a href="{% url 'book_detail' book.id %}">{{ book.title }}</a>
        - {{ book.author }} - {{ book.year }}
        {% if book.available %}
            (Disponible)
        {% else %}
            (Indisponible)
        {% endif %}
    </li>
{% empty %}
    <li>Aucun livre trouve.</li>
{% endfor %}
</ul>
{% endblock %}
